<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Projects - Portfolio</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.15.1/devicon.min.css">
  <style>
    /* ===== CSS RESET & BASE STYLES ===== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      /* Color Variables */
      --portfolio-dark-color: #121212;
      --portfolio-card-bg: #1e1e1e;
      --portfolio-separator-color: var(--portfolio-main-color);
      --portfolio-neon-glow: 0 0 10px rgba(0, 255, 255, 0.4);
      --bg-color: #080808;
      --main-color: #00ffee;
      --text-color: #e0e0e0;
      --portfolio-neon-border: 1px solid rgba(0, 255, 255, 0.2);
      --portfolio-muted-text: #a0a0a0;
      --portfolio-btn-primary: linear-gradient(135deg, #007cf0 0%, #00dfd8 100%);
      --portfolio-primary-color: #3a86ff;
      --portfolio-main-color: #00ffee;

      /* Folder Colors */
      --folder-web: #00ffee;
      --folder-desktop: #9d4edd;
      --folder-console: #38b000;
      --folder-mobile: #ff9e00;
      --folder-games: #ff006e;
      --folder-ai: #ff0054;

      /* Static Card Variables */
      --btn-primary: linear-gradient(135deg, #007cf0 0%, #00dfd8 100%);
      --btn-secondary: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
      --git: #6e40c9;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
      line-height: 1.6;
      overflow-x: hidden;
    }

    /* ===== PROJECTS SECTION ===== */
    .portfolio-projects-section {
      padding: 80px 5%;
      min-height: 100vh;
      position: relative;
    }

    .portfolio-container {
      max-width: 1400px;
      margin: 0 auto;
    }

    /* Section Title (Only visible in folders view) */
    .section-title {
      text-align: center;
      margin-bottom: 60px;
      font-size: clamp(2rem, 4vw, 2.8em);
      color: var(--main-color);
      text-shadow: var(--portfolio-neon-glow);
      position: relative;
    }

    /* Hide section title in projects view */
    .projects-view.active~.section-title {
      display: none;
    }

    /* ===== FOLDERS VIEW ===== */
    .folders-view {
      animation: fadeIn 0.8s ease-out;
    }

    .folders-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 30px;
      perspective: 1000px;
    }

    /* Folder Cards */
    .folder-card {
      background: rgba(255, 255, 255, 0.03);
      backdrop-filter: blur(15px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      padding: 30px;
      cursor: pointer;
      position: relative;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      min-height: 220px;
      justify-content: center;
      opacity: 0;
      transform: translateY(50px);
    }

    /* Folder Entrance Animation */
    .folder-card.animate-in {
      animation: slideUp 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    }

    .folder-card:nth-child(1) {
      animation-delay: 0.1s;
    }

    .folder-card:nth-child(2) {
      animation-delay: 0.2s;
    }

    .folder-card:nth-child(3) {
      animation-delay: 0.3s;
    }

    .folder-card:nth-child(4) {
      animation-delay: 0.4s;
    }

    .folder-card:nth-child(5) {
      animation-delay: 0.5s;
    }

    .folder-card:nth-child(6) {
      animation-delay: 0.6s;
    }

    .folder-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: var(--folder-color, var(--main-color));
      transform: scaleX(0);
      transition: transform 0.4s ease;
    }

    .folder-card:hover {
      transform: translateY(-10px);
      border-color: var(--folder-color, var(--main-color));
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4),
        0 0 30px var(--folder-glow, rgba(0, 255, 238, 0.2));
    }

    .folder-card:hover::before {
      transform: scaleX(1);
    }

    /* Folder Colors */
    .folder-card[data-category="web"] {
      --folder-color: var(--folder-web);
      --folder-glow: rgba(0, 255, 238, 0.2);
    }

    .folder-card[data-category="desktop"] {
      --folder-color: var(--folder-desktop);
      --folder-glow: rgba(157, 78, 221, 0.2);
    }

    .folder-card[data-category="console"] {
      --folder-color: var(--folder-console);
      --folder-glow: rgba(56, 176, 0, 0.2);
    }

    .folder-card[data-category="mobile"] {
      --folder-color: var(--folder-mobile);
      --folder-glow: rgba(255, 158, 0, 0.2);
    }

    .folder-card[data-category="games"] {
      --folder-color: var(--folder-games);
      --folder-glow: rgba(255, 0, 110, 0.2);
    }

    .folder-card[data-category="ai"] {
      --folder-color: var(--folder-ai);
      --folder-glow: rgba(255, 0, 84, 0.2);
    }

    /* Folder Icon */
    .folder-icon {
      width: 80px;
      height: 80px;
      margin-bottom: 20px;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .folder-icon svg {
      width: 100%;
      height: 100%;
      filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
      transition: transform 0.4s ease;
    }

    .folder-card:hover .folder-icon svg {
      transform: translateY(-5px) scale(1.1);
    }

    /* Folder Content */
    .folder-content h3 {
      font-size: 1.4rem;
      color: var(--text-color);
      margin-bottom: 8px;
      font-weight: 600;
    }

    .folder-desc {
      color: var(--portfolio-muted-text);
      font-size: 0.9rem;
      margin-bottom: 15px;
    }

    .folder-count {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 32px;
      height: 32px;
      background: var(--folder-color, var(--main-color));
      color: #000;
      font-weight: 700;
      font-size: 0.9rem;
      border-radius: 50%;
      margin-top: 10px;
    }

    /* ===== PROJECTS VIEW ===== */
    .projects-view {
      display: none;
      animation: fadeIn 0.5s ease;
    }

    .projects-view.active {
      display: block;
      margin-top: 0px;
    }

    /* Category Header with Back Button - FIXED: Reduced margin-top */
    .category-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 30px;
    margin-top: 0;
    position: relative;
    width: 100%;
    gap: 10px; /* CHANGED: Reduced from 20px to 10px */
}

    /* Back Button - FIXED: Positioned inline with category title */
    .projects-back-btn {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid var(--folder-color, var(--main-color));
      color: var(--text-color);
      padding: 8px 16px;
      /* CHANGED: Slightly smaller */
      border-radius: 6px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 0.9rem;
      font-weight: 500;
      transition: all 0.3s ease;
      position: relative;
      /* CHANGED: Not absolute */
      left: auto;
      top: auto;
      flex-shrink: 0;
      /* Prevent button from shrinking */
    }


    .projects-back-btn:hover {
      background: var(--folder-color, var(--main-color));
      color: #000;
      transform: translateX(-5px);
    }

    /* Category Title - FIXED: Centered with back button */
    .category-title {
      text-align: center;
      font-size: 2rem;
      /* CHANGED: Slightly smaller */
      color: var(--folder-color, var(--main-color));
      margin: 0;
      /* CHANGED: Remove all margins */
      text-shadow: 0 0 20px var(--folder-glow, rgba(0, 255, 238, 0.3));
      position: relative;
      flex-grow: 1;
    }

    .category-title::after {
      content: '';
      position: absolute;
      bottom: -8px;
      /* CHANGED: Closer to text */
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      /* CHANGED: Shorter line */
      height: 3px;
      /* CHANGED: Thinner */
      background: var(--folder-color, var(--main-color));
      border-radius: 2px;
    }

    /* ===== PROJECT CARDS (EXACT STATIC CARD LAYOUT) ===== */
    /* 
        PROJECT CARD STRUCTURE - EXACTLY LIKE STATIC CARDS:
        1. Fixed dimensions: 320px x 420px
        2. Static card layout with video
        3. Limited description space
        4. Hover with gradient background (60% color, 40% transparent)
        */

    .projects-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 30px;
      opacity: 0;
      transform: translateY(30px);
    }

    .projects-grid.animate-in {
      animation: riseUp 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    }

    /* Main Project Card Container - EXACT STATIC CARD STYLE */
    .project-card {
      /* FIXED: Exact static card dimensions */
      width: 320px;
      height: 420px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
      border: var(--portfolio-neon-border);
      border-radius: 10px;
      overflow: hidden;
      position: relative;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
      opacity: 0;
      transform: translateY(0);
      border-bottom: 1px solid var(--main-color);
      margin: 0 auto;
      /* Center cards */
    }

    /* Card Entrance Animation */
    .project-card.animate-in {
      animation: cardRise 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    }

    .project-card:nth-child(1) {
      animation-delay: 0.1s;
    }

    .project-card:nth-child(2) {
      animation-delay: 0.2s;
    }

    .project-card:nth-child(3) {
      animation-delay: 0.3s;
    }

    .project-card:nth-child(4) {
      animation-delay: 0.4s;
    }

    /* Video Section */
    .project-video-container {
      width: 100%;
      height: 180px;
      overflow: hidden;
      position: relative;
    }

    .project-video {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: all 0.5s ease;
      will-change: transform;
      pointer-events: none;
    }

    /* Video Autoplay Fix */
    .project-video-container video {
      will-change: transform;
    }

    /* Card Info (Visible by default - STATIC LAYOUT) */
    .project-info {
      padding: 1.2rem;
      transition: all 0.3s ease;
      background: transparent;
      display: flex;
      flex-direction: column;
      height: calc(420px - 180px);
      /* Fixed height for info section */
    }

    .project-title {
      font-size: 1.3rem;
      margin-bottom: 0.5rem;
      color: var(--main-color);
      text-align: center;
    }

    /* Tech Stack */
    .tech-stack {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 12px;
      margin: 0.5rem 0 0.8rem 0;
      font-size: 1.5rem;
      color: var(--main-color);
      flex-wrap: wrap;
    }

    .tech-icon {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 5px;
      font-size: 0.8rem;
      transition: transform 0.3s ease;
    }

    .tech-icon:hover {
      transform: translateY(-3px);
    }

    .tech-icon img {
      width: 24px;
      height: 24px;
      object-fit: contain;
    }

    .tech-icon i {
      font-size: 1.5rem;
    }

    .tech-icon span {
      font-size: 0.7rem;
      color: var(--portfolio-muted-text);
      text-align: center;
    }

    /* Project Description - FIXED: Limited space */
    .project-description {
      color: var(--portfolio-muted-text);
      line-height: 1.5;
      margin-bottom: 0;
      font-size: 0.9rem;
      max-height: 80px;
      /* FIXED: Limited height */
      overflow: hidden;
      text-overflow: ellipsis;
      display: -webkit-box;
      -webkit-line-clamp: 3;
      /* Show only 3 lines */
      -webkit-box-orient: vertical;
      margin-top: auto;
    }

    /* Tech Stack Colors */
    .tech-icon .devicon-react-original {
      color: #61dafb;
    }

    .tech-icon .devicon-nodejs-plain {
      color: #339933;
    }

    .tech-icon .devicon-mongodb-plain {
      color: #47a248;
    }

    .tech-icon .devicon-python-plain {
      color: #3776ab;
    }

    .tech-icon .devicon-javascript-plain {
      color: #f7df1e;
    }

    .tech-icon .devicon-html5-plain {
      color: #e34f26;
    }

    .tech-icon .devicon-css3-plain {
      color: #1572b6;
    }

    .tech-icon .devicon-csharp-plain {
      color: #9a4f96;
    }

    .tech-icon .devicon-express-original {
      color: #ffffff;
    }

    .tech-icon .devicon-github-original {
      color: #ffffff;
    }

    .tech-icon .devicon-dot-net-plain {
      color: #512bd4;
    }

    .tech-icon .fa-cubes {
      color: var(--main-color);
    }

    .tech-icon .fa-code {
      color: var(--main-color);
    }

    .tech-icon .fa-terminal {
      color: var(--main-color);
    }

    .tech-icon .fa-database {
      color: var(--main-color);
    }

    .tech-icon .fa-windows {
      color: var(--main-color);
    }

    .tech-icon .fa-server {
      color: var(--main-color);
    }

    .tech-icon .fa-object-group {
      color: var(--main-color);
    }

    .tech-icon .fa-python {
      color: #3776ab;
    }

    .tech-icon .fa-file-code {
      color: var(--main-color);
    }

    .tech-icon .fa-trophy {
      color: var(--main-color);
    }

    /* Card Hover Section - FIXED: Gradient background (60% color, 40% transparent) */
    .project-hover {
      position: absolute;
      top: 100%;
      left: 0;
      width: 100%;
      height: 100%;
      /* FIXED: Gradient background like static cards */
      background: linear-gradient(to top, rgba(0, 255, 255, 0.9) 60%, transparent);
      opacity: 0;
      transition: all 0.5s ease;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      padding: 1.2rem;
      color: #0b3d41;
      z-index: 3;
      overflow: hidden;
    }

    /* Hover Effects - Slides UP from bottom */
    .project-card:hover .project-hover {
      opacity: 1;
      top: 0;
    }

    .project-card:hover .project-video {
      transform: scale(1.05);
    }

    .project-card:hover .project-info {
      opacity: 0;
    }

    /* Hover Content */
    .hover-content {
      display: flex;
      flex-direction: column;
      height: 60%;
      /* Only bottom 60% has background */
      justify-content: flex-end;
    }

    /* Hover Title */
    .hover-title {
      font-size: 1.5rem;
      margin-bottom: 0.8rem;
      color: #0b3d41;
      text-shadow: 0 0 3px rgba(255, 255, 255, 0.9), 2px 4px 6px rgba(0, 0, 0, 0.15);
      font-weight: 700;
      text-align: center;
    }

    /* Section Headings in Hover */
    .hover-section {
      margin-bottom: 1rem;
    }

    .hover-section-title {
      font-size: 1rem;
      color: #0b3d41;
      margin-bottom: 0.5rem;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .hover-section-title i {
      font-size: 1rem;
    }

    /* Timeline Section */
    .project-timeline {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      margin-bottom: 0.5rem;
      font-size: 0.9rem;
      color: #0b3d41;
      font-weight: 600;
    }

    .timeline-dot {
      width: 8px;
      height: 8px;
      background: #0b3d41;
      border-radius: 50%;
    }

    /* Collaborators - FIXED: Clickable LinkedIn links */
    /* Container for all collaborators */
    .collaborators {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin-bottom: 1rem;
      max-height: 250px;
      /* Increased to ensure items aren't cut off */
      overflow-y: auto;
      padding-right: 5px;
      /* Space for the scrollbar */
    }

    /* Individual clickable link card */
    .collaborator {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 10px;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      text-decoration: none;
      color: inherit;
      cursor: pointer;
      min-height: 60px;
      /* Ensures a consistent height */
    }

    .collaborator:hover {
      transform: translateY(-2px);
      background: rgba(255, 255, 255, 0.2);
      border-color: var(--folder-color, #0b3d41);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }

    /* Avatar Container: The Fixed Size Anchor */
    .collaborator-avatar {
      width: 44px;
      /* Explicit width */
      height: 44px;
      /* Explicit height */
      min-width: 44px;
      /* Prevents shrinking in flex layout */
      min-height: 44px;
      border-radius: 50%;
      border: 2px solid var(--folder-color, #0b3d41);
      overflow: hidden;
      /* This clips the image into a circle */
      background: rgba(0, 0, 0, 0.1);
      /* Fallback background */
      display: block;
      position: relative;
    }

    /* The actual image inside the avatar container */
    .collaborator-avatar img {
      width: 100% !important;
      height: 100% !important;
      display: block;
      object-fit: cover;
      /* This is the key for non-distorted images */
      object-position: center;
    }

    .collaborator-info {
      display: flex;
      flex-direction: column;
      justify-content: center;
      overflow: hidden;
      /* Prevents text from pushing the image out */
    }

    .collaborator-name {
      font-weight: 600;
      font-size: 0.95rem;
      color: var(--text-color, #0b3d41);
      margin: 0;
      line-height: 1.2;
    }

    .collaborator-role {
      font-size: 0.8rem;
      color: rgba(11, 61, 65, 0.7);
      font-style: italic;
      margin-top: 2px;
    }

    /* ==== in case no collaborator ======= */
    .no-collaborators {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      padding: 12px 8px;
      /* Reduced padding */
      color: #0b3d41;
      background: rgba(255, 255, 255, 0.12);
      /* Slightly lighter */
      border-radius: 6px;
      /* Smaller radius */
      margin: 3px 0 1px 0;
      /* Reduced margin, bottom: 1px */
      min-height: 80px;
      /* Fixed minimum height */
    }

    .no-collab-icon {
      font-size: 1.8rem;
      /* Smaller icon */
      color: rgba(11, 61, 65, 0.6);
      margin-bottom: 6px;
      /* Reduced margin */
    }

    .no-collab-text h4 {
      font-size: 1rem;
      /* Smaller font */
      margin-bottom: 4px;
      /* Reduced margin */
      color: #0b3d41;
      font-weight: 600;
    }

    .no-collab-text p {
      font-size: 0.8rem;
      /* Smaller font */
      line-height: 1.3;
      /* Tighter line height */
      color: rgba(11, 61, 65, 0.7);
      margin-bottom: 1px;
      /* Added bottom margin */
    }

    /* Action Buttons */
    .action-buttons {
      display: flex;
      flex-direction: row;
      /* Force single row */
      justify-content: center;
      align-items: center;
      gap: 12px;
      /* Tightened spacing for single row fit */
      width: 100%;
      margin: 1.5rem 0;
      flex-wrap: nowrap;
      /* Absolutely no wrapping */
    }

    .action-btn {
      position: relative;
      padding: 6px 16px;
      /* Slimmer padding for one-row flow */
      height: 36px;
      /* Sleek, lower profile height */
      border: 1px solid rgba(255, 255, 255, 0.3);
      border-radius: 6px;
      font-weight: 600;
      font-size: 0.75rem;
      /* Reduced font size for better fit */
      letter-spacing: 0.3px;
      text-transform: uppercase;
      text-decoration: none;
      color: #fff;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      white-space: nowrap;
      transition: all 0.3s ease;
      background: transparent;
      overflow: hidden;
      /* Required for the fill effect */
      z-index: 1;
    }

    /* The "Slide-In" Background Layer */
    .action-btn::before {
      content: "";
      position: absolute;
      top: 0;
      left: -100%;
      /* Start off-screen */
      width: 100%;
      height: 100%;
      transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
      z-index: -1;
      /* Stay behind text */
    }

    /* Color Identity */
    .btn-live::before {
      background: #00ffee;
    }

    .btn-watch::before {
      background: #ff006e;
    }

    .btn-download::before {
      background: #38b000;
    }

    .btn-live {
      border-color: #00ffee;
    }

    .btn-watch {
      border-color: #ff006e;
    }

    .btn-download {
      border-color: #38b000;
    }

    /* New Hover Logic: Fill & Slide */
    .action-btn:hover {
      color: #fff;
      transform: translateY(-2px);
      border-color: transparent;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    }

    /* On hover, the background slides in */
    .action-btn:hover::before {
      left: 0;
    }

    /* Special Case: Black text for bright cyan for readability */
    .btn-live:hover {
      color: #000;
    }

    /* Icon nudge on hover */
    .action-btn i {
      font-size: 0.9rem;
      transition: transform 0.3s ease;
    }

    .action-btn:hover i {
      transform: scale(1.1);
    }

    .action-btn:active {
      transform: translateY(0) scale(0.96);
    }

    /* GitHub Corner (Top right) */
    .github-corner {
      position: absolute;
      top: 15px;
      right: 15px;
      width: 42px;
      height: 42px;
      fill: var(--git);
      border: 2px solid var(--git);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      background: transparent;
      opacity: 0;
      transform: translateY(-20px);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
      z-index: 4;
    }

    .project-card:hover .github-corner {
      opacity: 1;
      transform: translateY(0);
    }

    .github-corner:hover {
      background: var(--git);
      fill: white;
      transform: translateY(0) scale(1.1);
    }

    .github-corner:hover svg {
      transform: rotate(360deg);
      transition: transform 0.6s ease;
    }

    .github-corner svg {
      width: 24px;
      height: 24px;
      transition: transform 0.6s ease;
    }

    /* ===== VIDEO MODAL (Fixed 16:9 Aspect Ratio) ===== */
    .video-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.95);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      opacity: 0;
      visibility: hidden;
      transition: all 0.5s ease;
    }

    .video-modal.active {
      opacity: 1;
      visibility: visible;
    }

    /* Modal container with 16:9 aspect ratio */
    .modal-container {
      width: 90%;
      max-width: 1280px;
      /* 720p width */
      aspect-ratio: 16/9;
      /* Fixed 16:9 ratio */
      position: relative;
      background: #000;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 0 50px rgba(0, 255, 255, 0.3);
    }

    /* Video fills the 16:9 container */
    .modal-video {
      width: 100%;
      height: 100%;
      object-fit: contain;
      display: block;
    }

    .close-modal {
      position: absolute;
      top: 20px;
      right: 20px;
      font-size: 2.5rem;
      color: white;
      cursor: pointer;
      background: none;
      border: none;
      transition: transform 0.3s ease;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
    }

    .close-modal:hover {
      transform: rotate(90deg);
      color: var(--main-color);
    }

    /* ===== ANIMATIONS ===== */
    @keyframes fadeIn {
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(50px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes riseUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes cardRise {
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    /* ===== TRANSITIONS ===== */
    .folders-view,
    .projects-view {
      transition: opacity 0.5s ease, transform 0.5s ease;
    }

    .folders-view.hidden {
      display: none;
    }

    /* ===== RESPONSIVE DESIGN ===== */
    @media (max-width: 1024px) {

      .folders-grid,
      .projects-grid {
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      }

      .modal-container {
        width: 95%;
      }

      /* Adjust category header for medium screens */
      .category-header {
        flex-direction: column;
        gap: 15px;
      }

      .projects-back-btn {
        position: relative;
        margin-bottom: 10px;
      }
    }

    @media (max-width: 768px) {
      .portfolio-projects-section {
        padding: 60px 20px;
      }

      .folders-grid,
      .projects-grid {
        grid-template-columns: 1fr;
        max-width: 400px;
        margin: 0 auto;
      }

      .project-card {
        width: 100%;
        max-width: 350px;
      }

      .modal-container {
        width: 98%;
        border-radius: 5px;
      }

      .action-buttons {
        flex-direction: column;
        align-items: center;
      }

      .action-btn {
        width: 90%;
        max-width: 250px;
      }

      .category-header {
        margin-top: 10px;
      }

      .hover-title {
        display: none;
      }
    }

    @media (max-width: 480px) {
      .section-title {
        font-size: 1.8rem;
        margin-bottom: 40px;
      }

      .folder-card {
        padding: 25px 20px;
        min-height: 200px;
      }

      .folder-icon {
        width: 70px;
        height: 70px;
      }

      .category-title {
        font-size: 1.8rem;
      }

      .project-card {
        height: 420px;
      }

      .project-info {
        padding: 1rem;
      }

      .project-description {
        font-size: 0.85rem;
      }

      .close-modal {
        top: 10px;
        right: 10px;
        font-size: 2rem;
        width: 40px;
        height: 40px;
      }

      .tech-stack {
        font-size: 1.3rem;
        gap: 8px;
      }
    }

    @media (max-width: 420px) {
      .project-card {
        width: 90%;
        max-width: 320px;
      }

      .project-description {
        font-size: 0.8rem;
      }
    }
  </style>
</head>

<body>
  <!-- ===== PROJECTS SECTION ===== -->
  <section class="portfolio-projects-section" id="projects">
    <div class="portfolio-container">
      <!-- Section Title (Only visible in folders view) -->
      <h2 class="section-title">ðŸŽ¯ Featured Projects</h2>

      <!-- ===== FOLDERS VIEW (Default View) ===== -->
      <!-- 
            TO ADD NEW FOLDER:
            1. Copy a folder-card div below
            2. Change data-category="new-category-name"
            3. Update folder-count number
            4. Update folder-content (h3 and p)
            5. Add corresponding data in JavaScript projectsData object
            -->
      <div class="folders-view" id="foldersView">
        <div class="folders-grid" id="foldersGrid">
          <!-- Web Projects Folder -->
          <div class="folder-card" data-category="web" data-count="2">
            <div class="folder-icon">
              <svg viewBox="0 0 24 24" fill="none">
                <path
                  d="M20 6H12L10 4H4C2.9 4 2.01 4.9 2.01 6L2 18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V8C22 6.9 21.1 6 20 6Z"
                  fill="var(--folder-color, #00ffee)" />
                <path d="M4 6V8H20V6H4Z" fill="var(--folder-color, #00ffee)" fill-opacity="0.6" />
              </svg>
            </div>
            <div class="folder-content">
              <h3>Web Projects</h3>
              <p class="folder-desc">React, JavaScript, HTML5, CSS3</p>
              <div class="folder-count">2</div>
            </div>
          </div>

          <!-- Desktop Apps Folder -->
          <div class="folder-card" data-category="desktop" data-count="2">
            <div class="folder-icon">
              <svg viewBox="0 0 24 24" fill="none">
                <path
                  d="M20 18C21.1 18 21.99 17.1 21.99 16L22 6C22 4.9 21.1 4 20 4H4C2.9 4 2 4.9 2 6V16C2 17.1 2.9 18 4 18H0V20H24V18H20ZM4 6H20V16H4V6Z"
                  fill="var(--folder-color, #9d4edd)" />
                <rect x="6" y="8" width="12" height="6" fill="var(--folder-color, #9d4edd)" fill-opacity="0.6" />
              </svg>
            </div>
            <div class="folder-content">
              <h3>Desktop Apps</h3>
              <p class="folder-desc">C#, .NET, Windows Forms</p>
              <div class="folder-count">2</div>
            </div>
          </div>

          <!-- Console Apps Folder -->
          <div class="folder-card" data-category="console" data-count="2">
            <div class="folder-icon">
              <svg viewBox="0 0 24 24" fill="none">
                <path
                  d="M20 6H4C2.9 6 2 6.9 2 8V16C2 17.1 2.9 18 4 18H20C21.1 18 22 17.1 22 16V8C22 6.9 21.1 6 20 6ZM20 16H4V8H20V16Z"
                  fill="var(--folder-color, #38b000)" />
                <path d="M8 14H16V12H8V14Z" fill="var(--folder-color, #38b000)" fill-opacity="0.7" />
                <circle cx="6" cy="11" r="1" fill="var(--folder-color, #38b000)" />
              </svg>
            </div>
            <div class="folder-content">
              <h3>Console Apps</h3>
              <p class="folder-desc">Python, C#, Java</p>
              <div class="folder-count">2</div>
            </div>
          </div>

          <!-- Mobile Apps Folder (Empty) 
          <div class="folder-card" data-category="mobile" data-count="0">
            <div class="folder-icon">
              <svg viewBox="0 0 24 24" fill="none">
                <path
                  d="M17 1H7C5.9 1 5 1.9 5 3V21C5 22.1 5.9 23 7 23H17C18.1 23 19 22.1 19 21V3C19 1.9 18.1 1 17 1ZM17 19H7V5H17V19Z"
                  fill="var(--folder-color, #ff9e00)" />
                <circle cx="12" cy="19" r="1" fill="var(--folder-color, #ff9e00)" fill-opacity="0.7" />
              </svg>
            </div>
            <div class="folder-content">
              <h3>Mobile Apps</h3>
              <p class="folder-desc">React Native, Flutter</p>
              <div class="folder-count">0</div>
            </div>
          </div>
          -->

          <!-- Games Folder (Empty) 
          <div class="folder-card" data-category="games" data-count="0">
            <div class="folder-icon">
              <svg viewBox="0 0 24 24" fill="none">
                <path
                  d="M15 7V9H17V11H15V13H13V11H11V13H9V11H7V9H9V7H11V9H13V7H15ZM21 3H3C1.9 3 1 3.9 1 5V19C1 20.1 1.9 21 3 21H21C22.1 21 23 20.1 23 19V5C23 3.9 22.1 3 21 3ZM21 19H3V5H21V19Z"
                  fill="var(--folder-color, #ff006e)" />
                <circle cx="18" cy="8" r="1" fill="var(--folder-color, #ff006e)" fill-opacity="0.7" />
                <circle cx="18" cy="12" r="1" fill="var(--folder-color, #ff006e)" fill-opacity="0.7" />
              </svg>
            </div>
            <div class="folder-content">
              <h3>Game Dev</h3>
              <p class="folder-desc">Unity, C#, Game Design</p>
              <div class="folder-count">0</div>
            </div>
          </div>
          -->

          <!-- AI/ML Folder (Empty) 
          <div class="folder-card" data-category="ai" data-count="0">
            <div class="folder-icon">
              <svg viewBox="0 0 24 24" fill="none">
                <path
                  d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20Z"
                  fill="var(--folder-color, #ff0054)" />
                <path
                  d="M8.46 14.45L7.05 13.03C6.25 13.43 5.53 13.97 4.91 14.62L6.33 16.04C6.96 15.39 7.68 14.85 8.46 14.45Z"
                  fill="var(--folder-color, #ff0054)" fill-opacity="0.7" />
                <path
                  d="M19.09 14.62C18.47 13.97 17.75 13.43 16.95 13.03L15.54 14.45C16.32 14.85 17.04 15.39 17.67 16.04L19.09 14.62Z"
                  fill="var(--folder-color, #ff0054)" fill-opacity="0.7" />
              </svg>
            </div>
            <div class="folder-content">
              <h3>AI/ML</h3>
              <p class="folder-desc">Python, TensorFlow, ML</p>
              <div class="folder-count">0</div>
            </div>
          </div>
          -->
        </div>
      </div>

      <!-- ===== PROJECTS VIEW (Hidden by default) ===== -->
      <div class="projects-view" id="projectsView">
        <!-- FIXED: Category Header with Back Button inline (reduced margin-top) -->
        <div class="category-header">
          <button class="projects-back-btn" id="projectsBackBtn">
            <i class="fas fa-arrow-left"></i> Back to Categories
          </button>
          <h2 class="category-title" id="categoryTitle">Web Projects</h2>
        </div>

        <!-- Projects Grid will be dynamically populated here -->
        <!-- 
                TO ADD NEW PROJECT CARD:
                Copy the HTML structure below and update:
                1. data-project-id (unique)
                2. Video source and poster
                3. Project title
                4. Tech stack icons
                5. Buttons (live, watch, download)
                6. Collaborators data (with LinkedIn links)
                7. Project dates and description
                -->
        <div class="projects-grid" id="projectsGrid">
          <!-- Project cards will be inserted here by JavaScript -->
        </div>
      </div>
    </div>
  </section>

  <!-- ===== VIDEO MODAL (Fixed 16:9 Aspect Ratio) ===== -->
  <div class="video-modal" id="videoModal">
    <button class="close-modal" id="closeModal">&times;</button>
    <div class="modal-container">
      <video class="modal-video" controls>
        <!-- Video source will be set dynamically -->
      </video>
    </div>
  </div>

  <script>
    // ===== GLOBAL STATE =====
    const state = {
      currentCategory: null,
      videoModalOpen: false
    };

    // ===== DOM ELEMENTS =====
    const foldersView = document.getElementById('foldersView');
    const projectsView = document.getElementById('projectsView');
    const projectsBackBtn = document.getElementById('projectsBackBtn');
    const categoryTitle = document.getElementById('categoryTitle');
    const projectsGrid = document.getElementById('projectsGrid');
    const videoModal = document.getElementById('videoModal');
    const closeModal = document.getElementById('closeModal');
    const modalVideo = document.querySelector('.modal-video');
    const sectionTitle = document.querySelector('.section-title');

    // ===== PROJECT DATA =====
    /*
    TO ADD NEW PROJECT:
    1. Choose a category (web, desktop, console, mobile, games, ai)
    2. Add a new object to the corresponding array
    3. Update folder count in HTML
    4. Follow the structure below
    */

    const projectsData = {
      web: [
        {
          id: "web-1",
          title: "DSA Insight Website",
          description: "A dynamic React-based web application that brings data structures and algorithms to life through interactive visual animations.",
          techStack: [
            { type: "icon", class: "devicon-react-original", name: "React" },
            { type: "icon", class: "devicon-javascript-plain", name: "JavaScript" },
            { type: "icon", class: "devicon-html5-plain", name: "HTML5" },
            { type: "icon", class: "devicon-css3-plain", name: "CSS3" },
            { type: "icon", class: "devicon-github-original", name: "GitHub" }
          ],
          videoSrc: "Pics/DSA-Web.mp4",
          poster: "Pics/DSA-Poster.png",
          liveDemo: "https://dsa-insight.vercel.app/",
          github: "https://github.com/Mustaqeem-Codes/DSA_Insight",
          downloadUrl: null, // No download for web projects
          collaborators: [
            {
              name: "Abdullah Umar",
              avatar: "Pics/Abdullah_Umar.png",
              link: "https://www.linkedin.com/in/abdullah-umar-990562352/",
              role: "UI/UX Design & Frontend"
            }
          ],
          timeline: {
            start: "November 2025",
            end: "January 2026"
          }
        },
        {
          id: "web-2",
          title: "Flood Aid Website",
          description: "A responsive, full-stack web platform to support flood relief coordination and assistance efforts.",
          techStack: [
            { type: "icon", class: "devicon-react-original", name: "React" },
            { type: "icon", class: "devicon-csharp-plain", name: "C#" },
            { type: "icon", class: "devicon-mongodb-plain", name: "MongoDB" },
            { type: "icon", class: "devicon-css3-plain", name: "CSS3" },
            { type: "icon", class: "devicon-nodejs-plain", name: "Node.js" },
            { type: "icon", class: "devicon-express-original", name: "Express" }
          ],
          videoSrc: "Pics/DSA-Web.webm",
          poster: "Pics/Flood-Aid-Poster.png",
          liveDemo: "https://flood-aid-94zg.vercel.app/",
          github: "https://github.com/FarhanShakeel25/Flood_Aid/",
          downloadUrl: null,
          collaborators: [
            {
              name: "Farhan Shakeel",
              avatar: "Pics/Farhan_Shakeel.png",
              link: "https://www.linkedin.com/in/farhan-shakeel-47b505349/",
              role: "Backend Developer"
            },
            {
              name: "Muhammad Umair",
              avatar: "Pics/Muhammad_Umair.png",
              link: "https://www.linkedin.com/in/muhammad-umair-03037b338/",
              role: "Frontend Developer"
            }
          ],
          timeline: {
            start: "November 2025",
            end: "January 2026"
          }
        }
      ],
      desktop: [
        {
          id: "desktop-1",
          title: "Collaborative White Board",
          description: "A Windows desktop application for real-time collaborative whiteboarding with team collaboration features.",
          techStack: [
            { type: "icon", class: "devicon-csharp-plain", name: "C#" },
            { type: "image", src: "Pics/WinForm.png", name: "WinForms" },
            { type: "icon", class: "devicon-dot-net-plain", name: ".NET" },
            { type: "icon", class: "fas fa-cubes", name: "OOP" }
          ],
          videoSrc: "Pics/DSA-Web.webm",
          poster: "Pics/Whiteboard-Poster.png",
          liveDemo: null, // No live demo for desktop apps
          github: "#",
          downloadUrl: "https://github.com/Mustaqeem-Codes/White_Board/raw/main/WhiteBoard.zip",
          collaborators: [
            {
              name: "Adil Ur Rehman",
              avatar: "Pics/Adil.png",
              link: "https://www.linkedin.com/in/adilurrehmanofficial/",
              role: "Frontend Developer"
            },
            {
              name: "Farhan Shakeel",
              avatar: "Pics/Farhan_Shakeel.png",
              link: "https://www.linkedin.com/in/farhan-shakeel-47b505349/",
              role: "Backend Developer"
            }
          ],
          timeline: {
            start: "November 2025",
            end: "January 2026"
          }
        },
        {
          id: "desktop-2",
          title: "Job Portal Management System",
          description: "Windows Forms application for managing job portals with role-based access and real-time tracking.",
          techStack: [
            { type: "icon", class: "fas fa-windows", name: "Windows" },
            { type: "icon", class: "fas fa-server", name: "Server" },
            { type: "icon", class: "fas fa-object-group", name: "UI Design" }
          ],
          videoSrc: "Pics/DSA-Web.webm",
          poster: "Pics/Job(1).jpg",
          liveDemo: null,
          github: "https://github.com/Mustaqeem-Codes/Job_Portal_Management_System",
          downloadUrl: "https://github.com/Mustaqeem-Codes/Job_Portal_Management_System/raw/main/Job_Portal_Management_System.zip",
          collaborators: [],
          timeline: {
            start: "September 2024",
            end: "December 2024"
          }
        }
      ],
      console: [
        {
          id: "console-1",
          title: "Number Guess Game",
          description: "Console-based number guessing game with scoring, authentication, and global leaderboard.",
          techStack: [
            { type: "icon", class: "fab fa-python", name: "Python" },
            { type: "icon", class: "fas fa-file-code", name: "Console" },
            { type: "icon", class: "fas fa-trophy", name: "Scoring" }
          ],
          videoSrc: "Pics/DSA-Web.webm",
          poster: "Pics/NGG.png",
          liveDemo: null,
          github: "https://github.com/Mustaqeem-Codes/Number_Guess_Game",
          downloadUrl: "https://github.com/Mustaqeem-Codes/Number_Guess_Game/raw/main/Number_Guess_Game.zip",
          collaborators: [],
          timeline: {
            start: "July 2024",
            end: "August 2024"
          }
        },
        {
          id: "console-2",
          title: "Airline Management System",
          description: "Console application for comprehensive airline operations management with robust data handling.",
          techStack: [
            { type: "icon", class: "fas fa-code", name: "C#" },
            { type: "icon", class: "fas fa-terminal", name: "Console" },
            { type: "icon", class: "fas fa-database", name: "Database" }
          ],
          videoSrc: "Pics/DSA-Web.webm",
          poster: "Pics/airline.jpg",
          liveDemo: null,
          github: "https://github.com/Mustaqeem-Codes/Airline_Management_System",
          downloadUrl: "https://github.com/Mustaqeem-Codes/Airline_Management_System/raw/main/AMS.zip",
          collaborators: [],
          timeline: {
            start: "May 2024",
            end: "June 2024"
          }
        }
      ],
      mobile: [],
      games: [],
      ai: []
    };

    // ===== INITIALIZATION =====
    document.addEventListener('DOMContentLoaded', function () {
      initializeAnimations();
      setupEventListeners();

      // Help with autoplay policies
      document.addEventListener('click', function () {
        document.querySelectorAll('.project-video').forEach(video => {
          if (video.paused) {
            video.play().catch(() => {
              // Silently handle autoplay errors
            });
          }
        });
      }, { once: true });
    });

    // ===== ANIMATIONS =====
    function initializeAnimations() {
      // Animate folders on load
      const folderCards = document.querySelectorAll('.folder-card');
      folderCards.forEach(card => {
        card.classList.add('animate-in');
      });

      // Scroll animation for folders and cards
      const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('animate-in');
          }
        });
      }, observerOptions);

      // Observe folders
      folderCards.forEach(card => observer.observe(card));

      // Store observer for later use
      window.projectObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('animate-in');
          }
        });
      }, observerOptions);
    }

    // ===== EVENT LISTENERS =====
    function setupEventListeners() {
      // Folder click handlers
      document.querySelectorAll('.folder-card').forEach(folder => {
        folder.addEventListener('click', function () {
          const category = this.dataset.category;
          const count = parseInt(this.dataset.count);

          if (count === 0) {
            showComingSoonMessage(this);
            return;
          }

          openProjectsCategory(category);
        });
      });

      // Back button
      projectsBackBtn.addEventListener('click', closeProjectsCategory);

      // Video modal
      closeModal.addEventListener('click', closeVideoModal);
      videoModal.addEventListener('click', function (e) {
        if (e.target === videoModal) {
          closeVideoModal();
        }
      });

      // Escape key to close modals
      document.addEventListener('keydown', function (e) {
        if (e.key === 'Escape') {
          if (state.videoModalOpen) {
            closeVideoModal();
          } else if (state.currentCategory) {
            closeProjectsCategory();
          }
        }
      });
    }

    // ===== FOLDER FUNCTIONS =====
    function openProjectsCategory(category) {
      state.currentCategory = category;

      // Hide section title
      sectionTitle.style.display = 'none';

      // Update UI
      updateCategoryTitle(category);
      loadProjects(category);

      // Animate transition
      foldersView.classList.add('hidden');
      setTimeout(() => {
        projectsView.classList.add('active');
        animateProjectsGrid();
      }, 300);

      // Scroll to top of section
      document.getElementById('projects').scrollIntoView({ behavior: 'smooth' });
    }

    function closeProjectsCategory() {
      projectsView.classList.remove('active');
      setTimeout(() => {
        foldersView.classList.remove('hidden');
        sectionTitle.style.display = 'block';
      }, 300);

      state.currentCategory = null;

      // Scroll to top of section
      document.getElementById('projects').scrollIntoView({ behavior: 'smooth' });
    }

    function updateCategoryTitle(category) {
      const categoryNames = {
        web: "Web Projects",
        desktop: "Desktop Applications",
        console: "Console Applications",
        mobile: "Mobile Applications",
        games: "Game Development",
        ai: "AI/ML Projects"
      };

      categoryTitle.textContent = categoryNames[category];

      // Update category color
      const colorMap = {
        web: '#00ffee',
        desktop: '#9d4edd',
        console: '#38b000',
        mobile: '#ff9e00',
        games: '#ff006e',
        ai: '#ff0054'
      };

      document.documentElement.style.setProperty('--folder-color', colorMap[category]);
      document.documentElement.style.setProperty('--folder-glow', `${colorMap[category]}33`);
    }

    function showComingSoonMessage(folder) {
      const originalColor = getComputedStyle(folder).getPropertyValue('--folder-color');

      // Visual feedback
      folder.style.transform = 'scale(0.95)';
      folder.style.boxShadow = `0 0 30px ${originalColor}`;

      setTimeout(() => {
        folder.style.transform = '';
        folder.style.boxShadow = '';
      }, 300);
    }

    // ===== PROJECT FUNCTIONS =====
    function loadProjects(category) {
      // Clear existing projects
      projectsGrid.innerHTML = '';
      projectsGrid.classList.remove('animate-in');

      // Load projects for this category
      const projects = projectsData[category] || [];

      if (projects.length === 0) {
        showEmptyState();
        return;
      }

      // Create project cards
      projects.forEach(project => {
        const projectCard = createProjectCard(project);
        projectsGrid.appendChild(projectCard);
      });

      // Setup video autoplay and hover effects
      setupVideoEffects();
    }

    function createProjectCard(project) {
      const card = document.createElement('div');
      card.className = 'project-card';
      card.dataset.projectId = project.id;

      // Create tech stack HTML
      const techStackHTML = project.techStack.map(tech => {
        if (tech.type === 'image') {
          return `
                        <div class="tech-icon">
                            <img src="${tech.src}" alt="${tech.name}" />
                            <span>${tech.name}</span>
                        </div>
                    `;
        } else {
          return `
                        <div class="tech-icon">
                            <i class="${tech.class}"></i>
                            <span>${tech.name}</span>
                        </div>
                    `;
        }
      }).join('');

      // Create collaborators HTML - FIXED: Each collaborator is a clickable link
      // Create collaborators HTML - shows description for solo projects
      const collaboratorsHTML = project.collaborators && project.collaborators.length > 0
        ? project.collaborators.map(collab => `
        <a href="${collab.link}" target="_blank" class="collaborator" title="View ${collab.name}'s LinkedIn">
            <div class="collaborator-avatar">
                <img src="${collab.avatar}" alt="${collab.name}" />
            </div>
            <div class="collaborator-info">
                <div class="collaborator-name">${collab.name}</div>
                <div class="collaborator-role">${collab.role}</div>
            </div>
        </a>
    `).join('')
        : `
        <div class="no-collaborators">
            <div class="no-collab-icon">
                <i class="fas fa-user"></i>
            </div>
            <div class="no-collab-text">
                <h4>Solo Project</h4>
                <p>Developed independently with full-stack implementation.</p>
            </div>
        </div>
    `;

      // Determine button configuration
      const hasLiveDemo = project.liveDemo && project.liveDemo !== '#';
      const hasDownload = project.downloadUrl;

      // Create buttons HTML (NO GitHub button - we have GitHub corner)
      const buttonsHTML = `
                ${hasLiveDemo ? `
                    <a href="${project.liveDemo}" target="_blank" class="action-btn btn-live">
                        <i class="fas fa-external-link-alt"></i> Live Demo
                    </a>
                ` : ''}
                
                ${hasDownload ? `
                    <button class="action-btn btn-download download-btn" data-url="${project.downloadUrl}">
                        <i class="fas fa-download"></i> Download
                    </button>
                ` : ''}
                
                <button class="action-btn btn-watch watch-video-btn" data-video="${project.videoSrc}">
                    <i class="fas fa-play"></i> Watch Video
                </button>
            `;

      card.innerHTML = `
                <!-- Video Section - FIXED: Added autoplay attribute -->
                <div class="project-video-container">
                    <video class="project-video" muted loop playsinline autoplay preload="auto" poster="${project.poster}">
                        <source src="${project.videoSrc}" type="video/mp4" />
                    </video>
                </div>
                
                <!-- GitHub Corner (Top Right) -->
                ${project.github && project.github !== '#' ? `
                    <a href="${project.github}" target="_blank" class="github-corner" aria-label="View on GitHub">
                        <svg viewBox="0 0 24 24" aria-hidden="true">
                            <path fill-rule="evenodd"
                                d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z">
                            </path>
                        </svg>
                    </a>
                ` : ''}
                
                <!-- Card Info (Visible by default - EXACT STATIC LAYOUT) -->
                <div class="project-info">
                    <h3 class="project-title">${project.title}</h3>
                    <div class="tech-stack">
                        ${techStackHTML}
                    </div>
                    <div class="project-description">
                        ${project.description}
                    </div>
                </div>
                
                <!-- Hover Section (Hidden by default - Gradient background like static cards) -->
<div class="project-hover">
    <div class="hover-content">
        <!-- Title at top of hover content -->
        <h3 class="hover-title">${project.title}</h3>
        
        <!-- Collaborators Section with heading - Clickable links -->
        <div class="hover-section">
            <div class="hover-section-title">
                <i class="fas fa-users"></i>
                <span>Collaborators</span>
            </div>
            <div class="collaborators">
                ${collaboratorsHTML}
            </div>
        </div>
        
        <!-- Action Buttons at BOTTOM -->
        <div class="action-buttons">
            ${buttonsHTML}
        </div>
    </div>
</div>
                        
                        <!-- Collaborators Section with heading - FIXED: Clickable links -->
                        <div class="hover-section">
                            <div class="hover-section-title">
                                <i class="fas fa-users"></i>
                                <span>Collaborators</span>
                            </div>
                            <div class="collaborators">
                                ${collaboratorsHTML}
                            </div>
                        </div>
                        
                        <!-- Action Buttons at BOTTOM -->
                        <div class="action-buttons">
                            ${buttonsHTML}
                        </div>
                    </div>
                </div>
            `;

      // Add event listeners to buttons
      setTimeout(() => {
        const watchBtn = card.querySelector('.watch-video-btn');
        if (watchBtn) {
          watchBtn.addEventListener('click', () => openVideoModal(project.videoSrc));
        }

        const downloadBtn = card.querySelector('.download-btn');
        if (downloadBtn) {
          downloadBtn.addEventListener('click', handleDownload);
        }
      }, 100);

      // Observe for animations
      if (window.projectObserver) {
        window.projectObserver.observe(card);
      }

      return card;
    }

    function animateProjectsGrid() {
      setTimeout(() => {
        projectsGrid.classList.add('animate-in');

        // Animate individual cards
        const cards = projectsGrid.querySelectorAll('.project-card');
        cards.forEach((card, index) => {
          card.style.animationDelay = `${index * 0.1}s`;
        });
      }, 100);
    }

    function showEmptyState() {
      projectsGrid.innerHTML = `
                <div class="empty-state" style="grid-column: 1 / -1; text-align: center; padding: 60px 20px;">
                    <div style="font-size: 4rem; margin-bottom: 20px; opacity: 0.5;">ðŸ“‚</div>
                    <h3 style="color: var(--text-color); margin-bottom: 10px;">No Projects Yet</h3>
                    <p style="color: var(--portfolio-muted-text); max-width: 400px; margin: 0 auto;">
                        Projects in this category are coming soon. Stay tuned!
                    </p>
                </div>
            `;
      projectsGrid.classList.add('animate-in');
    }

function setupVideoEffects() {
    const videos = document.querySelectorAll('.project-video');
    
    // Autoplay all videos on load (muted)
    videos.forEach(video => {
        video.muted = true; // Always muted
        video.play().catch(e => {
            // If autoplay fails, it's okay
            console.log('Initial autoplay blocked');
        });
    });
    
    // Remove hover unmute - keep videos always muted
    document.querySelectorAll('.project-card').forEach(card => {
        const video = card.querySelector('.project-video');
        if (!video) return;
        
        // REMOVE hover event listeners completely
        // No hover effects on videos - they just keep playing
    });
}

    // ===== VIDEO MODAL FUNCTIONS =====
    function openVideoModal(videoSrc) {
    state.videoModalOpen = true;
    
    // Set modal video source
    modalVideo.src = videoSrc;
    modalVideo.muted = false; // Unmute for modal
    
    // Show modal
    videoModal.classList.add('active');
    
    // Play modal video
    setTimeout(() => {
        modalVideo.play().catch(e => {
            console.log('Modal video autoplay prevented:', e);
            modalVideo.controls = true;
        });
    }, 300);
    
    document.body.style.overflow = 'hidden';
}

    function closeVideoModal() {
      state.videoModalOpen = false;

      // Pause and reset modal video
      modalVideo.pause();
      modalVideo.src = '';
      modalVideo.controls = false;

      // Hide modal
      videoModal.classList.remove('active');

      // Restore body scroll
      document.body.style.overflow = '';
    }

    // ===== DOWNLOAD FUNCTION =====
    function handleDownload(e) {
      const url = e.currentTarget.dataset.url;
      if (!url) return;

      const btn = e.currentTarget;
      const originalHTML = btn.innerHTML;

      // Visual feedback
      btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Downloading...';
      btn.style.opacity = '0.8';
      btn.disabled = true;

      // Create download link
      const a = document.createElement('a');
      a.href = url;
      a.download = url.split('/').pop();
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);

      // Reset button after delay
      setTimeout(() => {
        btn.innerHTML = '<i class="fas fa-check"></i> Downloaded!';
        setTimeout(() => {
          btn.innerHTML = originalHTML;
          btn.style.opacity = '1';
          btn.disabled = false;
        }, 2000);
      }, 1500);
    }

    // ===== WINDOW RESIZE HANDLER =====
    let resizeTimeout;
    window.addEventListener('resize', function () {
      clearTimeout(resizeTimeout);
      resizeTimeout = setTimeout(() => {
        // Re-initialize animations on resize
        if (state.currentCategory) {
          const cards = projectsGrid.querySelectorAll('.project-card');
          cards.forEach(card => {
            card.classList.remove('animate-in');
          });

          // Re-trigger animations
          setTimeout(() => {
            cards.forEach((card, index) => {
              card.style.animationDelay = `${index * 0.1}s`;
              card.classList.add('animate-in');
            });
          }, 100);
        }
      }, 250);
    });
  </script>
</body>

</html>